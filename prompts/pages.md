# Android ハンディ 画面一覧
> デバイス: 1080 x 2040 / 約420dpi / portrait・landscape対応

## 画面番号体系

| 番号 | 画面名 | ルート |
|------|--------|--------|
| **P01** | ログイン画面 | `login` |
| **P02** | 設定画面 | `settings` |
| **P03** | メイン画面 | `main` |
| **P10** | 入庫 - 倉庫選択画面 | `incoming_warehouse_selection` |
| **P11** | 入庫 - 商品リスト画面 | `incoming_product_list` |
| **P12** | 入庫 - スケジュールリスト画面 | `incoming_schedule_list` |
| **P13** | 入庫 - 入庫入力画面 | `incoming_input` |
| **P14** | 入庫 - 入庫履歴画面 | `incoming_history` |
| **P20** | 出庫 - コース選択画面 | `picking_list` |
| **P21** | 出庫 - データ入力画面 | `outbound_picking/{taskId}` |
| **P22** | 出庫 - 出庫履歴画面 | `picking_history/{taskId}` |
| **P30** | 移動処理（未実装） | `move` |
| **P40** | 棚卸処理（未実装） | `inventory` |
| **P50** | ロケ検索（未実装） | `location_search` |

---

## 画面構成図

```
P01 ログイン画面
    ├── P02 設定画面
    └── P03 メイン画面（メニュー）
            ├── P10〜P14 入庫処理
            │       ├── P10 倉庫選択画面
            │       ├── P11 商品リスト画面
            │       ├── P12 スケジュールリスト画面
            │       ├── P13 入庫入力画面
            │       └── P14 入庫履歴画面
            ├── P20〜P22 出庫処理
            │       ├── P20 コース選択画面
            │       ├── P21 データ入力画面
            │       └── P22 出庫履歴画面
            ├── P30 移動処理（未実装）
            ├── P40 棚卸処理（未実装）
            └── P50 ロケ検索（未実装）
```

---

## P01 ログイン画面 (LoginScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P01 |
| **ファイル** | `feature/login/.../LoginScreen.kt` |
| **ルート** | `login` |
| **ヘッダー** | DENSOハンディ |
| **主な機能** | スタッフコード・パスワードでログイン認証 |
| **UI要素** | スタッフコード入力、パスワード入力、ログインボタン、設定ボタン |
| **フッター** | バージョン、日付、ホストURL |
| **遷移先** | P03 メイン画面、P02 設定画面 |

---

## P02 設定画面 (SettingsScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P02 |
| **ファイル** | `feature/settings/.../SettingsScreen.kt` |
| **ルート** | `settings` |
| **ヘッダー** | 設定 |
| **主な機能** | APIサーバーのホストURL設定 |
| **UI要素** | ホストURL入力、保存ボタン、注意事項カード |
| **遷移先** | 戻る（前の画面） |

---

## P03 メイン画面 (MainScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P03 |
| **ファイル** | `feature/main/.../MainScreen.kt` |
| **ルート** | `main` |
| **ヘッダー** | 作業者情報、倉庫名、設定ボタン |
| **主な機能** | 各機能へのナビゲーションメニュー |
| **UI要素** | 入庫処理ボタン、出庫処理ボタン、移動処理ボタン、棚卸処理ボタン、ロケ検索ボタン |
| **フッター** | 日付、ホストURL、ログアウトボタン、バージョン |
| **遷移先** | P10 倉庫選択、P20 コース選択、P02 設定、P01 ログイン（ログアウト時） |

---

## P10 入庫 - 倉庫選択画面 (WarehouseSelectionScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P10 |
| **ファイル** | `feature/inbound/.../incoming/WarehouseSelectionScreen.kt` |
| **ルート** | `incoming_warehouse_selection` |
| **ヘッダー** | ← 倉庫選択 |
| **主な機能** | 入庫作業を行う倉庫を選択 |
| **API** | `GET /api/master/warehouses` |
| **UI要素** | 倉庫リスト（カード形式、広い画面を活かして大きめ表示） |
| **ファンクションキー** | F2: 戻る、F4: ログアウト |
| **遷移先** | P11 商品リスト画面 |
| **備考** | 広い画面なのでカード形式で倉庫情報を表示。バーコードスキャン不要 |

---

## P11 入庫 - 商品リスト画面 (ProductListScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P11 |
| **ファイル** | `feature/inbound/.../incoming/ProductListScreen.kt` |
| **ルート** | `incoming_product_list` |
| **ヘッダー** | ← {倉庫名} 入庫処理 |
| **主な機能** | 入庫予定のある商品一覧を表示・検索 |
| **API** | `GET /api/incoming/schedules`、`GET /api/incoming/work-items`（作業中判定） |
| **UI要素** | 検索バー、商品リスト（JANコード、商品コード、商品名、容量、温度帯、残数量バッジ、済数量バッジ、作業中インジケータ） |
| **ファンクションキー** | F1: 検索フォーカス、F2: 戻る、F3: 履歴 |
| **遷移先** | P12 スケジュールリスト、P14 入庫履歴 |
| **備考** | 広い画面を活かし、1行に容量・温度帯・数量バッジを表示。バーコードスキャン→検索対応。300msデバウンス |

---

## P12 入庫 - スケジュールリスト画面 (ScheduleListScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P12 |
| **ファイル** | `feature/inbound/.../incoming/ScheduleListScreen.kt` |
| **ルート** | `incoming_schedule_list` |
| **ヘッダー** | ← {倉庫名} 入庫処理 |
| **主な機能** | 選択した商品の入庫スケジュール一覧を表示 |
| **API** | なし（P11で取得済みデータを使用） |
| **UI要素** | 商品サマリーヘッダー（名前・JAN・容量・画像）、合計数量バー、スケジュールリスト（倉庫名・予定日・ロケーション・ステータスバッジ・残数量） |
| **ファンクションキー** | F2: 戻る、F3: 履歴 |
| **遷移先** | P13 入庫入力、P14 入庫履歴 |
| **備考** | 広い画面なので倉庫名・日付・ロケーションを1行で表示可能。確定済/連携済はタップ不可（薄暗い背景） |

---

## P13 入庫 - 入庫入力画面 (IncomingInputScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P13 |
| **ファイル** | `feature/inbound/.../incoming/IncomingInputScreen.kt` |
| **ルート** | `incoming_input` |
| **ヘッダー** | ← {倉庫名} 入庫処理 |
| **主な機能** | 入庫数量・賞味期限・ロケーションを入力して登録 |
| **API** | `POST /api/incoming/work-items`、`PUT /api/incoming/work-items/{id}`、`POST /api/incoming/work-items/{id}/complete`、`GET /api/incoming/locations` |
| **UI要素** | 商品情報ヘッダー、入荷日表示、入庫数量入力（予定数表示付き）、賞味期限入力（カレンダーピッカー付き）、ロケーション入力（オートコンプリート） |
| **ファンクションキー** | F1: 賞味期限カレンダー、F2: 戻る、F3: 登録 |
| **遷移先** | P12 スケジュールリスト（登録成功時） |
| **備考** | 広い画面で入力フィールドに余裕を持たせる。ロケーションサジェストを広く表示。履歴からの編集時はデータプリフィル |

---

## P14 入庫 - 入庫履歴画面 (HistoryScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P14 |
| **ファイル** | `feature/inbound/.../incoming/HistoryScreen.kt` |
| **ルート** | `incoming_history` |
| **ヘッダー** | ← {倉庫名} 入庫処理 |
| **主な機能** | 本日の入庫作業履歴を表示・編集 |
| **API** | `GET /api/incoming/work-items`（status=all, from_date=today） |
| **UI要素** | 「本日の入庫履歴」ヘッダー、履歴リスト（JANコード、商品コード、商品名、倉庫名、予定日、入庫日、ステータスバッジ（カラー）、数量） |
| **ファンクションキー** | F2: 戻る、F3: リスト（P11へ） |
| **遷移先** | P13 入庫入力（編集時）、P11 商品リスト |
| **備考** | 編集可否はWorkItemステータス×Scheduleステータスで判定。カラーコーディング：作業中=tertiary、完了=primary、キャンセル=error |

---

## P20 出庫 - コース選択画面 (PickingTasksScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P20 |
| **ファイル** | `feature/outbound/.../tasks/PickingTasksScreen.kt` |
| **ルート** | `picking_list` |
| **ヘッダー** | 出庫処理（コース選択） |
| **主な機能** | ピッキングタスク（コース）の一覧表示・選択 |
| **UI要素** | タスクリスト（コース番号、件数、ステータス） |
| **ファンクションキー** | F2: 履歴、F4: 戻る |
| **遷移先** | P21 データ入力、P22 出庫履歴 |

---

## P21 出庫 - データ入力画面 (OutboundPickingScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P21 |
| **ファイル** | `feature/outbound/.../picking/OutboundPickingScreen.kt` |
| **ルート** | `outbound_picking/{taskId}` |
| **ヘッダー** | 出庫処理（ピッキング） |
| **主な機能** | ピッキング対象商品のスキャン・数量入力 |
| **UI要素** | 商品情報、ロケーション、数量入力、スキャン機能 |
| **ファンクションキー** | F2: 履歴、F4: 戻る |
| **遷移先** | P22 出庫履歴、P20 コース選択 |

---

## P22 出庫 - 出庫履歴画面 (PickingHistoryScreen)

| 項目 | 内容 |
|------|------|
| **ページ番号** | P22 |
| **ファイル** | `feature/outbound/.../picking/PickingHistoryScreen.kt` |
| **ルート** | `picking_history/{taskId}` |
| **ヘッダー** | 出庫処理（履歴） |
| **主な機能** | ピッキング済み商品の履歴表示・確定 |
| **UI要素** | 履歴リスト、削除ボタン、確定ボタン |
| **ファンクションキー** | 各種操作ボタン |
| **遷移先** | P20 コース選択（確定時） |

---

## ファンクションキー共通仕様

| キー | 主な用途（入庫処理での割り当て） |
|------|----------|
| **F1** | 検索フォーカス、賞味期限カレンダーなどの補助機能 |
| **F2** | 戻る |
| **F3** | 履歴、登録、リスト表示 |
| **F4** | ログアウト |

---

## 画面遷移フロー

### 入庫処理フロー
```
P03 メイン → P10 倉庫選択 → P11 商品リスト → P12 スケジュールリスト → P13 入庫入力 → P12
                                      ↓
                                P14 入庫履歴 ←→ P13 入庫入力（編集）
```

### 出庫処理フロー
```
P03 メイン → P20 コース選択 → P21 データ入力 → P20
                   ↓              ↓
                P22 出庫履歴 ←────┘
```
